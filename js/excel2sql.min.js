
$(function(){if($("#submitted").length>0){save_form()}else{load_form()}$(".form-save").change(save_form)});function use_sample_content(){var a=$("#sample-content-xls").text();$("#excel-input").val(a);$("#form-main").submit()}function save_form(){var a={text:{},select:{},checkbox:{}};$(".form-save").each(function(){var b=get_storage_type($(this));switch(b){case"text":var c=$(this).val();break;case"checkbox":if($(this).attr("checked")){var c="checked"}else{var c="unchecked"}break;case"select":var c=$(this).find(":selected").val();break}a[b][$(this).attr("id")]=c});localStorage.setItem("excel2sql",JSON.stringify(a))}function get_storage_type(a){if(a.attr("type")=="text"||a.attr("type")=="number"){return"text"}if(a.is("textarea")){return"text"}if(a.is("select")){return"select"}if(a.attr("type")=="checkbox"){return"checkbox"}}function load_form(){if(localStorage.excel2sql==null){return false}var a=JSON.parse(localStorage.excel2sql);$.each(a,function(c,b){switch(c){case"text":load_form_text(b);break;case"checkbox":load_form_checkbox(b);break;case"select":load_form_text(b);break}});return true}function load_form_text(a){$.each(a,function(c,b){$("#"+c).val(b)})}function load_form_checkbox(a){$.each(a,function(c,b){if(b=="checked"){$("#"+c).attr("checked",true)}else{$("#"+c).removeAttr("checked")}})};